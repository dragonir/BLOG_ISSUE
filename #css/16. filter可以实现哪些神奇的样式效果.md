# `CSS filter` æœ‰å“ªäº›ç¥å¥‡ç”¨é€”

![filter_0.png](http://127.0.0.1:8080/%23css/images/filter_0.png)

## èƒŒæ™¯

### åŸºæœ¬æ¦‚å¿µ

`CSS filter`Â å±æ€§å°†æ¨¡ç³Šæˆ–é¢œè‰²åç§»ç­‰å›¾å½¢æ•ˆæœåº”ç”¨äºå…ƒç´ å½¢æˆæ»¤é•œï¼Œæ»¤é•œé€šå¸¸ç”¨äºè°ƒæ•´å›¾åƒï¼ŒèƒŒæ™¯å’Œè¾¹æ¡†çš„æ¸²æŸ“ã€‚å®ƒçš„å€¼å¯ä»¥ä¸º `filter` å‡½æ•° `<filter-function>` æˆ–ä½¿ç”¨ `url` æ·»åŠ çš„svgæ»¤é•œã€‚

```css
filter: <filter-function> [<filter-function>]* | none
filter: url(file.svg#filter-element-id)
```

Â `<filter-function>`Â å¯ä»¥ç”¨äº `filter`Â å’ŒÂ `backdrop-filter`Â å±æ€§ã€‚å®ƒçš„æ•°æ®ç±»å‹ç”±ä¸‹åˆ—è¿‡æ»¤å™¨å‡½æ•°ä¹‹ä¸€æŒ‡å®šã€‚æ¯ä¸ªå‡½æ•°éœ€è¦ä¸€ä¸ªå‚æ•°ï¼Œå¦‚æœå‚æ•°æ— æ•ˆï¼Œåˆ™æ»¤é•œä¸ä¼šç”Ÿæ•ˆã€‚ä»¥ä¸‹æ˜¯å¯¹æ»¤é•œå‡½æ•°å«ä¹‰çš„è§£é‡Šï¼š

* `blur()`ï¼šæ¨¡ç³Šå›¾åƒ
* `brightness()` ï¼šè®©å›¾åƒæ›´æ˜äº®æˆ–æ›´æš—æ·¡
* `contrast()`ï¼šå¢åŠ æˆ–å‡å°‘å›¾åƒçš„å¯¹æ¯”åº¦
* `drop-shadow()`ï¼šåœ¨å›¾åƒåæ–¹åº”ç”¨æŠ•å½±
* `grayscale()`ï¼šå°†å›¾åƒè½¬ä¸ºç°åº¦å›¾
* `hue-rotate()`ï¼šæ”¹å˜å›¾åƒçš„æ•´ä½“è‰²è°ƒ
* `invert()`ï¼šåè½¬å›¾åƒé¢œè‰²
* `opacity()`ï¼šæ”¹å˜å›¾åƒé€æ˜åº¦
* `saturate()`ï¼šè¶…é¥±å’Œæˆ–å»é¥±å’Œè¾“å…¥çš„å›¾åƒ
* `sepia()`ï¼šå°†å›¾åƒè½¬ä¸ºæ£•è¤è‰²

### ç”¨æ³•ç¤ºä¾‹

```css
/* ä½¿ç”¨SVG filter */
filter: url("filters.svg#filter-id");
/* ä½¿ç”¨filterå‡½æ•° */
filter: blur(5px);
filter: brightness(0.4);
filter: contrast(200%);
filter: drop-shadow(16px 16px 20px blue);
filter: grayscale(50%);
filter: hue-rotate(90deg);
filter: invert(75%);
filter: opacity(25%);
filter: saturate(30%);
filter: sepia(60%);
/* å¤šä¸ªfilter */
filter: contrast(175%) brightness(3%);
/* ä¸ä½¿ç”¨filter */
filter: none;
/* å…¨å±€å˜é‡ */
filter: inherit;
filter: initial;
filter: unset;
```

![filter_1.png](http://127.0.0.1:8080/%23css/images/filter_1.png)

## åº”ç”¨æ¡ˆä¾‹

### æ›´åŠ æ™ºèƒ½çš„é˜´å½±æ•ˆæœ

åœ¨ç»™å…ƒç´ æ·»åŠ é˜´å½±çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸€èˆ¬é‡‡ç”¨ `box-shadow` å±æ€§ï¼Œé€šè¿‡ `box-shadow(xåç§», yåç§», æ¨¡ç³Šå¤§å°, é˜´å½±å¤§å°, è‰²å€¼, inset)` çš„è¯­æ³•å½¢å¼å¾ˆå®¹æ˜“ä¸ºå…ƒç´ æ·»åŠ é˜´å½±æ•ˆæœï¼Œä½† `box-shadow` ä¹Ÿæœ‰ä¸€ä¸ªç¼ºç‚¹ï¼Œå°±æ˜¯åœ¨ç»™é€æ˜å›¾ç‰‡æ·»åŠ é˜´å½±æ•ˆæœæ—¶ï¼Œæ— æ³•ç©¿é€å…ƒç´ ï¼Œåªèƒ½æ·»åŠ åˆ°é€æ˜å›¾ç‰‡å…ƒç´ çš„ç›’æ¨¡å‹ä¸Šã€‚è¿™ä¸ªæ—¶å€™ï¼Œ`filter` å±æ€§çš„ `drop-shadow` æ–¹æ³•å°±èƒ½å¾ˆå¥½çš„è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œç”¨å®ƒæ·»åŠ çš„é˜´å½±å¯ä»¥ç©¿é€å…ƒç´ ï¼Œè€Œä¸æ˜¯æ·»åŠ åˆ°å…ƒç´ çš„ç›’æ¨¡å‹è¾¹æ¡†ä¸Šã€‚

`drop-shadow` æ·»åŠ çš„é˜´å½±é™¤äº†å¯ä»¥ç©¿é€é€æ˜å…ƒç´ å¤–ï¼Œé˜´å½±æ•ˆæœå’Œ `box-shadow` æ˜¯ç›¸åŒçš„ï¼Œå¦‚æœæµè§ˆå™¨æ”¯æŒç¡¬ä»¶åŠ é€Ÿçš„è¯ï¼Œä½¿ç”¨ `filter` æ·»åŠ çš„é˜´å½±æ•ˆæœä¼šæ›´åŠ é€¼çœŸã€‚

`drop-shadow` è¯­æ³•å¦‚ä¸‹ï¼ˆå®ƒé™¤äº†ä¸æ”¯æŒè®¾ç½® `inset`ï¼Œå…¶ä»–å’Œ `box-shadow` æ˜¯å®Œå…¨ç›¸åŒçš„ï¼‰ï¼š

```css
filter: drop-shadow(xåç§», yåç§», æ¨¡ç³Šå¤§å°, è‰²å€¼);
```

å¦‚ï¼š

```css
filter: drop-shadow(1px 1px 15px rgba(0, 0, 0, .5));
```

ä¸‹å›¾æ˜¯åˆ†åˆ«ä½¿ç”¨ `box-shadow` å’Œ `filter: drop-shadow` ä¸ºé€æ˜å…ƒç´ æ·»åŠ é˜´å½±çš„å¯¹æ¯”ï¼š

![filter_2.png](http://127.0.0.1:8080/%23css/images/filter_2.png)

```html
<img class="box-shadow" src="futurama.png" />
<img class="drop-shadow" src="futurama.png" />
```

```css
.box-shadow {
  box-shadow: 1px 1px 15px rgba(0, 0, 0, .5);
}
.drop-shadow {
  filter: drop-shadow(1px 1px 15px rgba(0, 0, 0, .5));
}
```

### å…ƒç´ ã€ç½‘é¡µç½®ç°

å‘ç”Ÿé‡å¤§ç¾å®³äº‹æ•…æˆ–å…¶ä»–å“€æ‚¼æ—¥æ—¶ï¼Œå›½ä¼æ”¿åºœç½‘ç«™å¾€å¾€æœ‰ç½‘é¡µå…¨éƒ¨ç½®ç°çš„éœ€æ±‚ã€‚æˆ–è€…å¾ˆå¤šç½‘é¡µä¸­æœ‰é¼ æ ‡ `hover` æ‚¬æµ®åˆ°ç°è‰²å…ƒç´ ä¸Šæ—¶å˜æˆå½©è‰²çš„æ ·å¼æ•ˆæœã€‚æ­¤æ—¶å°±å¯ä»¥ä½¿ç”¨ `filter` å±æ€§çš„ `grayscale` æ–¹æ³•å®ç°ï¼Œå®ƒå¯ä»¥è°ƒæ•´å…ƒç´ ç°åº¦ï¼Œé€šè¿‡ç»™é¡µé¢å…ƒç´ è®¾ç½® `filter: grayscale(100%)` å°±å¯å°†é¡µé¢å…ƒç´ ç½®ç°ã€‚ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œ`body` æ ‡ç­¾ä¸‹æœ‰ `h1` å’Œ `img` æ ‡ç­¾ï¼Œæœªæ·»åŠ  `filter` æ ·å¼å‰å¦‚ä¸‹æ‰€ç¤ºã€‚

```html
<body>
  <h1 class="title">FUTURAMA</h1>
  <img class="img" width="500" src="./images/futurama.png" />
</body>
```

![filter_3.png](http://127.0.0.1:8080/%23css/images/filter_3.png)

ç°åœ¨æˆ‘ä»¬ç»™ `body` å…ƒç´ æ·»åŠ ä¸€ä¸ª `.gray` ç±»ï¼Œ`<body class="gray">` å°±å¯å®ç°æ•´ä¸ªç½‘é¡µç½®ç°æ•ˆæœã€‚

```css
.gray {
  filter: grayscale(100%);
}
```

![filter_4.png](http://127.0.0.1:8080/%23css/images/filter_4.png)

ä¸ºäº†å…¼å®¹ `IE8` ç­‰å…¶ä»–ä½ç‰ˆæœ¬æµè§ˆå™¨ï¼Œæˆ‘ä»¬å¯ä»¥åŠ ä¸Šæµè§ˆå™¨å‰ç¼€å’Œ `svg` æ»¤é•œã€‚`ğŸ˜¤`

```css
.gray {
  -webkit-filter: grayscale(1);
  -webkit-filter: grayscale(100%);
  -moz-filter: grayscale(100%);
  -ms-filter: grayscale(100%);
  -o-filter: grayscale(100%);
  filter: url("data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\'><filter id=\'grayscale\'><feColorMatrix type=\'matrix\' values=\'0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0\'/></filter></svg>#grayscale");
  filter: progid:DXImageTransform.Microsoft.BasicImage(grayscale=1);
  filter: grayscale(100%);
}
```

åœ¨åšç´§æ€¥ç½®ç°ç½‘é¡µéœ€æ±‚æ—¶ï¼Œä¸Šçº¿ä¸€æ®µæ—¶é—´å¾€å¾€éœ€è¦æ’¤æ‰è¿™ä¸ªåŠŸèƒ½ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åœ¨é¦–æ¬¡ä¸Šçº¿æ—¶æ·»åŠ ä»¥ä¸‹ç±»ä¼¼çš„æ–¹æ³•ï¼Œæ¥æ§åˆ¶ç½®ç°æ•ˆæœçš„è‡ªåŠ¨ä¸Šä¸‹çº¿æ—¶é—´ï¼Œè¿™æ ·åˆ°è¾¾é¢„å®šæ—¶é—´å°±å¯è‡ªåŠ¨æ’¤å»ï¼Œä¸ç”¨èµ°ä¸¤æ¬¡æ–½å·¥æµç¨‹ã€‚`ğŸ¤£`

```javascript
(function setGray() {
  var endTime = Date.parse("Apr 06 2077 00:00:01");
  var timestamp = Date.parse(new Date());
  if (timestamp <= endTime) {
    document.querySelector('html').classList.add('gray');
  }
})();
```

### å…ƒç´ å¼ºè°ƒã€é«˜äº®

`brightness` æ–¹æ³•å®ç°å…ƒç´ é«˜äº®çš„æ•ˆæœï¼Œå¯ä»¥åº”ç”¨åˆ°èœå•æ ã€å›¾ç‰‡åˆ—è¡¨ `hover` æ•ˆæœï¼Œæ¥å¼ºè°ƒé¼ æ ‡å½“å‰æ‚¬æµ®æˆ–é€‰ä¸­çš„å†…å®¹ã€‚ä¸‹é¢æ˜¯å¯¹ä¸€ç»„æŒ‰é’®èœå•æ æ·»åŠ  `brightness` å’Œ `saturate` ä¸¤ä¸ªæ–¹æ³•ï¼Œé€šè¿‡æ”¹å˜äº®åº¦å’Œé¥±å’Œåº¦æ¥é«˜äº®å…ƒç´ ã€‚

![filter_5.gif](http://127.0.0.1:8080/%23css/images/filter_5.gif)

```html
<div class="container">
  <a class="button">ğŸ‹</a>
  <a class="button">ğŸ</a>
  <a class="button">ğŸ</a>
  <a class="button dark">ğŸ¥‘</a>
  <a class="button dark">ğŸ„</a>
  <a class="button dark">ğŸŒ½</a>
  <a class="button disabled">ğŸ’</a>
  <a class="button disabled">ğŸ…</a>
  <a class="button disabled">ğŸ¥”</a>
</div>
```

```css
.container {
  margin: 40px;
}
.button {
  padding: 0.5em 0.5em;
  background: #E0E0E0;
  border-radius: 3px;
}
.button.dark {
  background: #333;
}
.button:hover:not(.disabled) {
  cursor: pointer;
  border-radius: 3px;
  filter: brightness(110%) saturate(140%);
}
.button.disabled {
  filter: grayscale(100%);
}
```

### æ¯›ç»ç’ƒæ•ˆæœ

æ¯›ç»ç’ƒï¼ˆ`Frosted glass`ï¼‰æ•ˆæœï¼Œé¡¾åæ€ä¹‰å°±æ˜¯ç±»ä¼¼åŠé€æ˜æ¯›ç»ç’ƒçš„æ•ˆæœï¼Œåœ¨ `iOS` ç³»ç»Ÿã€`Windows 10` ç­‰ç³»ç»Ÿ `UI` ä¸­æœ‰å¹¿æ³›åº”ç”¨ï¼Œä½¿ç”¨æ¯›ç»ç’ƒæ•ˆæœå¯ä»¥å¢å¼ºè§†è§‰ä½“éªŒã€‚åœ¨ `ã€ŠCSSæ­ç§˜ã€‹` ç­‰è‘—ä½œä¸­ä¹Ÿæœ‰ç³»ç»Ÿè®²è§£ï¼Œä¸‹é¢æ˜¯æˆ‘å¯¹åˆ†åˆ«ä½¿ç”¨ `filter: blur` å’Œ `backdrop-filter: blur`ä¸¤ç§æ–¹æ³•å®ç°è¿™ç§æ•ˆæœçš„æ€»ç»“ã€‚

æœ‰ä¸¤ä¸ªå«æœ‰ç›¸åŒç±»å `glass` çš„ `div` å…ƒç´ ï¼Œå®ƒä»¬åˆ†åˆ«è¢«æ·»åŠ ä¸¤ä¸ªç±» `glass-by-filter` å’Œ `glass-by-backdrop-filter` æ¥åŒºåˆ†ä¸¤ç§æ–¹æ³•ã€‚

```html
<div class="glass glass-by-filter"></div>
<div class="glass glass-by-backdrop-filter"></div>
```

é€šç”¨æ ·å¼ï¼Œè®¾ç½®æ¯›ç»ç’ƒå…ƒç´ çš„å¤§å°ã€åœ†è§’ç­‰åŸºæœ¬æ ·å¼ï¼š

```css
.glass {
  height: 300px;
  width: 300px;
  border: 1px groove #EFEFEF;
  border-radius: 12px;
  background: rgba(242, 242, 242, 0.5);
  box-shadow: 0 0.3px 0.7px rgba(0, 0, 0, 0.126),
    0 0.9px 1.7px rgba(0, 0, 0, 0.179), 0 1.8px 3.5px rgba(0, 0, 0, 0.224),
    0 3.7px 7.3px rgba(0, 0, 0, 0.277), 0 10px 20px rgba(0, 0, 0, 0.4);
}
```

`filter: blur` æ–¹æ³•ï¼Œç»™å…ƒç´ æ·»åŠ äº†ä¸€ä¸ª `::before` ä¼ªç±»è®¾ç½® `blur` æ–¹æ³•å¹¶å°†å…¶ç½®äºåº•å±‚å®ç°æ¯›ç»ç’ƒæ•ˆæœã€‚

```css
.glass-by-filter {
  z-index: 1;
  box-sizing: border-box;
  position: relative;
}
.glass-by-filter::before {
  content: "";
  position: absolute;
  top: 0; right: 0; bottom: 0; left: 0;
  z-index: -1;
  background: inherit;
  filter: blur(10px);
}
```

`backdrop-filter: blur` ç›´æ¥åœ¨å…ƒç´ ä¸Šæ·»åŠ  `blur` æ–¹æ³•å®ç°æ¯›ç»ç’ƒæ•ˆæœã€‚

```css
.glass-by-backdrop-filter {
  backdrop-filter: blur(10px);
}
```

å®ç°æ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼ˆå·¦ï¼š`filter`ã€å³ï¼š`backdrop-filter`ï¼‰ï¼š

![filter_6](http://127.0.0.1:8080/%23css/images/filter_6.png)

> é˜…è¯»æ‰©å±•ï¼šæ¯›ç»ç’ƒè¾¹æ¡†æ•ˆæœï¼š<https://css-tricks.com/blurred-borders-in-css>
> ![filter_7.png](http://127.0.0.1:8080/%23css/images/filter_7.png)

### è‰ºæœ¯ç…§ï¼ç”šè‡³å¯ä»¥å®ç°ç®€æ˜“ç‰ˆ `insatagram`

å¤å¤ã€ç‰ˆç”»ã€æ²¹ç”»ã€æ¼«ç”»ã€æ¶²åŒ–ã€è€ç…§ç‰‡ã€æ€§å†·æ·¡ã€è«å…°è¿ªã€èµ›åšæœ‹å…‹ã€æ—ºè¾¾å¹»è§†é£æ ¼é€šé€šéƒ½å¯ä»¥å®ç°ï¼

é€šè¿‡ç»“åˆä½¿ç”¨ `filter` çš„æ‰€æœ‰æ–¹æ³•ï¼Œå¯ä»¥æ­é…å‡ºä»»æ„è‡ªå·±æƒ³è¦çš„æ•ˆæœã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ `filter` æ–¹æ³•è°ƒèŠ‚å™¨ï¼Œå¯ä»¥è°ƒæ•´æ¯ä¸ªæ–¹æ³•çš„å€¼ï¼ŒåŒæ—¶å®æ—¶å±•ç¤ºå›¾ç‰‡çš„æ»¤é•œæ•ˆæœã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚

![filter_8.png](http://127.0.0.1:8080/%23css/images/filter_8.png)

é¡µé¢ä¸»è¦ä»£ç å¦‚ä¸‹ï¼Œæ§åˆ¶åŒº `#imageEditor` æ˜¯ä¸€ä¸ª `form` è¡¨å•ï¼Œè¡¨å•æ¯ä¸€è¡Œåˆ†åˆ«æ§åˆ¶ä¸€ç§filteræ–¹æ³•çš„å€¼ï¼Œå±•ç¤ºåŒº `#imageContainer` å†…éƒ¨åŒ…å«ä¸€ä¸ª `img` å…ƒç´ ï¼Œäº§ç”Ÿçš„ `filter` æ»¤é•œä½œç”¨åœ¨è¯¥å…ƒç´ ä¸Šã€‚

```html
<form id="imageEditor">
  <p>
    <label for="gs">Grayscale</label>
    <input id="gs" name="gs" type="range" min="0" max="100" value="0">
  </p>
  <p>
    <label for="blur">Blur</label>
    <input id="blur" name="blur" type="range" min="0" max="10" value="0">
  </p>
  <p>
    <label for="br">Exposure</label>
    <input id="br" name="br" type="range" min="0" max="200" value="100">
  </p>
  <p>
    <label for="ct">Contrast</label>
    <input id="ct" name="ct" type="range" min="0" max="200" value="100">
  </p>
  <p>
    <label for="huer">Hue Rotate</label>
    <input id="huer" name="huer" type="range" min="0" max="360" value="0">
  </p>
  <p>
    <label for="opacity">Opacity</label>
    <input id="opacity" name="opacity" type="range" min="0" max="100" value="100">
  </p>
  <p>
    <label for="invert">Invert</label>
    <input id="invert" name="invert" type="range" min="0" max="100" value="0">
  </p>
  <p>
    <label for="saturate">Saturate</label>
    <input id="saturate" name="saturate" type="range" min="0" max="500" value="100">
  </p>
  <p>
    <label for="sepia">Sepia</label>
    <input id="sepia" name="sepia" type="range" min="0" max="100" value="0">
  </p>
  <input type="reset" form="imageEditor" id="reset" value="Reset" />
</form>
<div id="imageContainer" class="center">
  <img src="futurama.png">
</div>
```

```js
function editImage() {
  var gs = $("#gs").val();                // grayscale
  var blur = $("#blur").val();            // blur
  var br = $("#br").val();                // brightness
  var ct = $("#ct").val();                // contrast
  var huer = $("#huer").val();            // hue-rotate
  var opacity = $("#opacity").val();      // opacity
  var invert = $("#invert").val();        // invert
  var saturate = $("#saturate").val();    // saturate
  var sepia = $("#sepia").val();          // sepia
  $("#imageContainer img").css(
    "filter", 'grayscale(' + gs+
    '%) blur(' + blur +
    'px) brightness(' + br +
    '%) contrast(' + ct +
    '%) hue-rotate(' + huer +
    'deg) opacity(' + opacity +
    '%) invert(' + invert +
    '%) saturate(' + saturate +
    '%) sepia(' + sepia + '%)'
  );
  $("#imageContainer img").css(
    "-webkit-filter", 'grayscale(' + gs+
    '%) blur(' + blur +
    'px) brightness(' + br +
    '%) contrast(' + ct +
    '%) hue-rotate(' + huer +
    'deg) opacity(' + opacity +
    '%) invert(' + invert +
    '%) saturate(' + saturate +
    '%) sepia(' + sepia + '%)'
  );
}
// å½“inputå€¼å‘ç”Ÿå˜åŒ–æ—¶å³æ—¶åº”ç”¨æ»¤é•œ
$("input[type=range]").change(editImage).mousemove(editImage);
```

ç°åœ¨åªæ˜¯å®ç°äº†æ»¤é•œçš„å®æ—¶é¢„è§ˆï¼Œåç»­å¾…å®ç°åŠŸèƒ½åŒ…æ‹¬æ”¯æŒå¤æ‚çš„ `svg` æ»¤é•œæ¨¡ç‰ˆã€å¯¼å‡ºä¸‹è½½ç­‰ï¼Œå®Œæˆè¿™äº›æ­¥éª¤ï¼Œä»¥åç…§ç‰‡æ·»åŠ æ»¤é•œå†ä¹Ÿä¸ç”¨ä¸‹è½½å…¶ä»– `APPğŸ˜…` äº†ã€‚å®ä¾‹å®Œæ•´ç‰ˆä»£ç ï¼š<https://codepen.io/dragonir/pen/abJmqxM>

### èŠ‚çœç©ºé—´ï¼Œæé«˜ç½‘é¡µåŠ è½½é€Ÿåº¦

å®è·µè¯æ˜ï¼ŒåŒä¸€å›¾ç‰‡å‡å°äº®åº¦å’Œå¯¹æ¯”åº¦åŠè‰²ç›¸é¥±å’Œåº¦ä¹‹åçš„ä½“ç§¯ä¸åŸå›¾ç›¸æ¯”ï¼Œå¯ä»¥å‡å°å¾ˆå¤§ä¸€éƒ¨åˆ†ä½“ç§¯ç©ºé—´ `2M` å·¦å³çš„å›¾ç‰‡ç»è¿‡å¼±åŒ–åä¿å­˜ï¼Œå°±å¯ä»¥å‹ç¼©åˆ° `1M` å·¦å³ã€‚åœ¨ç½‘é¡µä¸­æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç»è¿‡ `å¼±åŒ–` çš„å›¾ç‰‡ï¼Œç„¶åé€šè¿‡ `CSS filter` å°†å…¶è¿˜åŸã€‚è¿™æ ·å°±å¯ä»¥è¾¾åˆ°å‹ç¼©èµ„æºä½“ç§¯ï¼Œæå‡ç½‘é¡µåŠ è½½é€Ÿåº¦ã€æé«˜ç”¨æˆ·ä½“éªŒçš„ç›®çš„ã€‚

å…·ä½“æ“ä½œå¯é˜…è¯»ä»¥ä¸‹æ•™ç¨‹ï¼š

> å¯¹æ¯”åº¦äº¤æ¢æŠ€æœ¯ï¼šä½¿ç”¨ `CSS filter` æé«˜å›¾åƒæ€§èƒ½ <https://css-tricks.com/contrast-swap-technique-improved-image-performance-css-filters>

## å…¼å®¹æ€§

ä» `caniuse` æŸ¥è¯¢ç»“æœå¯ä»¥çœ‹å‡ºï¼Œ`css filter` å±æ€§åœ¨ç°ä»£æµè§ˆå™¨ä¸­çš„æ”¯æŒæ€§å·²ç»å¾ˆå¥½äº†ï¼Œé™¤äº† `IE` æµè§ˆå™¨ä¹‹å¤–ï¼Œå…¶ä»–æµè§ˆå™¨ä¸­å¤§å¤šå¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼Œå¿…è¦æ—¶å¯æ·»åŠ æµè§ˆå™¨å†…æ ¸å‰ç¼€ã€‚ä½†æ˜¯å®˜ç½‘ä¹Ÿæœ‰ä»¥ä¸‹3ä¸ªissue æç¤ºï¼Œç›¸ä¿¡åç»­éšç€æµè§ˆå™¨çš„å‡çº§ï¼Œè¿™äº›é—®é¢˜ä¹Ÿä¼šè¢«é€æ­¥ä¿®å¤ï¼š

* åœ¨ Safari æµè§ˆå™¨ä¸­ï¼Œå¦‚æœå­å…ƒç´ å…·æœ‰åŠ¨ç”»æ•ˆæœï¼Œåˆ™ä¸ä¼šè¢«åº”ç”¨æ»¤é•œã€‚
* ç›®å‰æ²¡æœ‰æµè§ˆå™¨æ”¯æŒ `drop-shadow` æ»¤é•œçš„ `spread-radius` æ–¹æ³•ã€‚
* åœ¨ `Edge` æµè§ˆå™¨ä¸­å¦‚æœå…ƒç´ æˆ–å­å…ƒç´ è¢«è®¾ç½®äº† `è´Ÿå€¼z-index`ï¼Œåˆ™æ— æ³•åº”ç”¨æ»¤é•œã€‚

![filter_10.png](http://127.0.0.1:8080/%23css/images/filter_10.png)

## æ€»ç»“

æœ¬ç¯‡æ–‡ç« åªæ˜¯ç®€å•åˆ—ä¸¾äº†å‡ ç§ä½¿ç”¨ `CSS filter` å¸¸ç”¨çš„é¡µé¢æ•ˆæœï¼Œå…¶å® `filter` çš„æ¯ä¸€ç§å†…ç½®æ–¹æ³•éƒ½å¯ä»¥æœ‰æ— é™å¯èƒ½çš„æ‰©å±•åº”ç”¨ï¼Œå¦‚ `invert` åè½¬è‰²åŒæ ·ä¹Ÿå¯ä»¥åº”ç”¨åˆ° `hover` æ•ˆæœä¸Šã€è°ƒæ•´ç½‘é¡µ`sepia` è¤è‰²å€¼å¯ä»¥å®ç°æŠ¤çœ¼æ•ˆæœç­‰ã€‚åªè¦å‘æŒ¥æƒ³è±¡åŠ›å’Œåˆ›é€ åŠ›ï¼Œ`filter` éƒ½å¯ä»¥åœ¨å®è·µä¸­å¾—åˆ°å¾ˆå¥½çš„åº”ç”¨ã€‚

ä»¥ä¸‹ä¸€äº›ä¾‹å­å°±æ˜¯å¾ˆå¥½çš„åº”ç”¨ï¼Œå¤§å®¶æœ‰å…´è¶£å¯ä»¥æ‹“å±•é˜…è¯»å­¦ä¹ ï¼š

* æ¯›ç»ç’ƒæ•ˆæœ <https://codepen.io/KazuyoshiGoto/pen/nhstF>
* ç ´ç¢ç»ç’ƒæ•ˆæœ <https://codepen.io/bajjy/pen/vwrKk>
* ä½¿ç”¨filterå®ç°çš„hoveræ•ˆæœ <https://codepen.io/nxworld/details/ZYNOBZ>
* åè‰²æŒ‰é’® <https://codepen.io/monkey-company/pen/zZZvRp>
* è€ç…§ç‰‡ <https://codepen.io/dudleystorey/pen/pKoqa>
* é«˜çº§ç‰ˆfilterç¼–è¾‘å™¨ï¼š<https://codepen.io/stoumann/pen/MWeNmyb>

æœ€åé™„ä¸Šä¸€å¼ ç”¨ä¸Šé¢æ»¤é•œç¼–è¾‘å™¨è°ƒå‡ºæ¥çš„ `å¤å¤è«å…°è¿ªè‰²æ€§å†·æ·¡æ²¹ç”»æ•ˆæœ` æ»¤é•œå›¾ç‰‡ã€‚ï¼ˆå“‡å¡ï¼Œè¿™ä¹Ÿå¤ªå“‡å¡äº†å§ï¼Œ`CSS` ç»ç»å­ `yydsğŸ¤£`ï¼‰

![filter_9.png](http://127.0.0.1:8080/%23css/images/filter_9.png)

> æ–‡ç« åœ°å€ï¼šhttps://segmentfault.com/a/1190000040058430 ä½œè€…ï¼šdragonir
